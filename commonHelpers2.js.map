{"version":3,"file":"commonHelpers2.js","sources":["../src/refs/formRefs.js","../src/helper/setLocalStorage.js","../src/helper/getLocalStorage.js","../src/js/2-form.js"],"sourcesContent":["export const formRefs = {\n  formElem: document.querySelector('.feedback-form'),\n};\n","export function setLocalStorage(key, obj) {\n  localStorage.setItem(key, JSON.stringify(obj));\n}\n","export function getLocalStorage(key, refElem) {\n  const parsedValueLS = JSON.parse(localStorage.getItem(key));\n\n  refElem.elements.email.value = !parsedValueLS\n    ? ''\n    : parsedValueLS.email.trim();\n  refElem.elements.message.value = !parsedValueLS\n    ? ''\n    : parsedValueLS.message.trim();\n}\n","import { formRefs } from '../refs/formRefs';\nimport { setLocalStorage } from '../helper/setLocalStorage';\nimport { getLocalStorage } from '../helper/getLocalStorage';\n\nconst LS_KEY_FORM_STATE = 'feedback-form-state';\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\nformRefs.formElem.addEventListener('input', fedbackFromState);\n\nfunction fedbackFromState(event) {\n  const curTarget = event.currentTarget;\n\n  const form = new FormData(curTarget);\n\n  formData.email = form.get('email').trim();\n  formData.message = form.get('message').trim();\n\n  setLocalStorage(LS_KEY_FORM_STATE, formData);\n}\n\ndocument.addEventListener('DOMContentLoaded', (event, refElem) => {\n  getLocalStorage(LS_KEY_FORM_STATE, formRefs.formElem);\n});\n\nformRefs.formElem.addEventListener('submit', event => {\n  event.preventDefault();\n  const form = event.currentTarget;\n\n  const formValues = form.elements;\n  const email = formValues.email.value.trim();\n  const message = formValues.message.value.trim();\n\n  if (email && message) {\n    console.log(formData);\n    localStorage.removeItem(LS_KEY_FORM_STATE);\n    form.reset();\n  } else {\n    alert('«Fill please all fields»');\n  }\n});\n"],"names":["formRefs","setLocalStorage","key","obj","getLocalStorage","refElem","parsedValueLS","LS_KEY_FORM_STATE","formData","fedbackFromState","event","curTarget","form","formValues","email","message"],"mappings":"oDAAO,MAAMA,EAAW,CACtB,SAAU,SAAS,cAAc,gBAAgB,CACnD,ECFO,SAASC,EAAgBC,EAAKC,EAAK,CACxC,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAG,CAAC,CAC/C,CCFO,SAASC,EAAgBF,EAAKG,EAAS,CAC5C,MAAMC,EAAgB,KAAK,MAAM,aAAa,QAAQJ,CAAG,CAAC,EAE1DG,EAAQ,SAAS,MAAM,MAASC,EAE5BA,EAAc,MAAM,OADpB,GAEJD,EAAQ,SAAS,QAAQ,MAASC,EAE9BA,EAAc,QAAQ,OADtB,EAEN,CCLA,MAAMC,EAAoB,sBAEpBC,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEAR,EAAS,SAAS,iBAAiB,QAASS,CAAgB,EAE5D,SAASA,EAAiBC,EAAO,CAC/B,MAAMC,EAAYD,EAAM,cAElBE,EAAO,IAAI,SAASD,CAAS,EAEnCH,EAAS,MAAQI,EAAK,IAAI,OAAO,EAAE,OACnCJ,EAAS,QAAUI,EAAK,IAAI,SAAS,EAAE,OAEvCX,EAAgBM,EAAmBC,CAAQ,CAC7C,CAEA,SAAS,iBAAiB,mBAAoB,CAACE,EAAOL,IAAY,CAChED,EAAgBG,EAAmBP,EAAS,QAAQ,CACtD,CAAC,EAEDA,EAAS,SAAS,iBAAiB,SAAUU,GAAS,CACpDA,EAAM,eAAc,EACpB,MAAME,EAAOF,EAAM,cAEbG,EAAaD,EAAK,SAClBE,EAAQD,EAAW,MAAM,MAAM,KAAI,EACnCE,EAAUF,EAAW,QAAQ,MAAM,KAAI,EAEzCC,GAASC,GACX,QAAQ,IAAIP,CAAQ,EACpB,aAAa,WAAWD,CAAiB,EACzCK,EAAK,MAAK,GAEV,MAAM,0BAA0B,CAEpC,CAAC"}